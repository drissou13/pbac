<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Petit Bac avec Driss ðŸ¤–</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #74ebd5, #ACB6E5);
      height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #333;
    }

    h1 {
      margin-bottom: 10px;
    }

    .game-container {
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 400px;
      text-align: center;
      transition: all 0.3s ease-in-out;
    }

    .letter {
      font-size: 48px;
      font-weight: bold;
      margin: 10px 0 20px;
    }

    .category {
      margin-bottom: 10px;
    }

    input {
      width: 90%;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      outline: none;
    }

    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #45a049;
    }

    select {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      margin-bottom: 10px;
      outline: none;
    }

    .score {
      font-size: 20px;
      font-weight: bold;
      margin-top: 15px;
    }

    .driss-answer {
      font-size: 14px;
      color: #555;
      margin-top: 5px;
      font-style: italic;
    }

    .driss-mood {
      font-size: 16px;
      margin-bottom: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ“ Petit Bac avec Driss ðŸ¤–</h1>

  <div class="game-container">
    <label for="mode">Choisis ton mode de jeu :</label><br>
    <select id="mode" onchange="changerMode()">
      <option value="solo">ðŸŽ® Mode Solo</option>
      <option value="driss">ðŸ¤– Contre Driss</option>
    </select>

    <div class="driss-mood" id="driss-mood"></div>
    <div class="letter" id="letter">?</div>
    <div id="categories"></div>

    <button onclick="verifier()">VÃ©rifier</button>
    <button onclick="nouvelleLettre()">Nouvelle Lettre</button>

    <div class="score" id="score"></div>
  </div>

  <script>
    const categories = ["PrÃ©nom", "Animal", "Pays", "Objet", "Fruit/LÃ©gume"];
    const categoriesDiv = document.getElementById("categories");
    const letterDiv = document.getElementById("letter");
    const scoreDiv = document.getElementById("score");
    const modeSelect = document.getElementById("mode");
    const drissMoodDiv = document.getElementById("driss-mood");

    // Base de donnÃ©es simple pour Driss
    const drissDictionnaire = {
      "PrÃ©nom": ["Ahmed", "Luc", "Thomas", "Fatima", "Nina", "Sophie", "Rayan", "Zara"],
      "Animal": ["Lion", "Tigre", "Lapin", "Chien", "ZÃ¨bre", "Ours", "Chat", "Aigle"],
      "Pays": ["France", "Maroc", "Canada", "Italie", "BrÃ©sil", "NorvÃ¨ge", "Chine", "Zambie"],
      "Objet": ["Lampe", "Chaise", "Stylo", "Livre", "TÃ©lÃ©phone", "Vase", "Crayon", "Bouteille"],
      "Fruit/LÃ©gume": ["Pomme", "Banane", "Carotte", "Kiwi", "Mangue", "Raisin", "Orange", "Tomate"]
    };

    let drissMode = "intello"; // par dÃ©faut

    // ðŸ§  Driss change de personnalitÃ© Ã  chaque manche
    function definirComportementDriss() {
      const tirage = Math.random();
      if (tirage < 0.5) {
        drissMode = "maladroit";
        drissMoodDiv.textContent = "ðŸ˜… Driss a mal dormi... Il risque de se tromper !";
        drissMoodDiv.style.color = "#c0392b";
      } else {
        drissMode = "intello";
        drissMoodDiv.textContent = "ðŸ¤“ Driss est concentrÃ© et en pleine forme !";
        drissMoodDiv.style.color = "#27ae60";
      }
    }

    // CrÃ©ation dynamique des champs
    function creerChamps() {
      categoriesDiv.innerHTML = "";
      categories.forEach(cat => {
        const div = document.createElement("div");
        div.className = "category";
        div.innerHTML = `
          <label>${cat} :</label><br>
          <input type="text" id="${cat}" placeholder="Ta rÃ©ponse...">
          <div class="driss-answer" id="driss-${cat}" style="display:none"></div>
        `;
        categoriesDiv.appendChild(div);
      });
    }

    // Nouvelle lettre alÃ©atoire
    function nouvelleLettre() {
      const lettres = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      const lettre = lettres[Math.floor(Math.random() * lettres.length)];
      letterDiv.textContent = lettre;
      scoreDiv.textContent = "";
      document.querySelectorAll("input").forEach(input => input.value = "");
      document.querySelectorAll(".driss-answer").forEach(div => div.style.display = "none");

      // ðŸ§  DÃ©finir humeur de Driss
      definirComportementDriss();
    }

    function changerMode() {
      scoreDiv.textContent = "";
      nouvelleLettre();
    }

    // Driss gÃ©nÃ¨re ses rÃ©ponses selon son humeur
    function drissRepond(lettre) {
      const reponses = {};
      categories.forEach(cat => {
        const mots = drissDictionnaire[cat];

        // Niveau dâ€™erreur selon lâ€™humeur
        const tauxErreur = (drissMode === "intello") ? 0.1 : 0.5;
        const faitErreur = Math.random() < tauxErreur;

        if (faitErreur) {
          reponses[cat] = mots[Math.floor(Math.random() * mots.length)];
        } else {
          const choix = mots.find(m => m[0].toUpperCase() === lettre);
          reponses[cat] = choix ? choix : mots[Math.floor(Math.random() * mots.length)];
        }
      });
      return reponses;
    }

    // VÃ©rification et score
    function verifier() {
      const lettre = letterDiv.textContent;
      if (lettre === "?") {
        alert("Clique sur 'Nouvelle Lettre' pour commencer !");
        return;
      }

      let scoreJoueur = 0;
      let scoreDriss = 0;
      const mode = modeSelect.value;
      let drissAnswers = {};

      if (mode === "driss") {
        drissAnswers = drissRepond(lettre);
      }

      categories.forEach(cat => {
        const reponse = document.getElementById(cat).value.trim();
        if (reponse && reponse[0].toUpperCase() === lettre) scoreJoueur += 10;

        if (mode === "driss") {
          const divDriss = document.getElementById("driss-" + cat);
          divDriss.style.display = "block";
          divDriss.textContent = `Driss : ${drissAnswers[cat]}`;
          if (drissAnswers[cat][0].toUpperCase() === lettre) scoreDriss += 10;
        }
      });

      if (mode === "solo") {
        scoreDiv.textContent = `Ton score : ${scoreJoueur} points`;
      } else {
        scoreDiv.textContent = `Toi : ${scoreJoueur} pts | Driss ðŸ¤– : ${scoreDriss} pts`;
        if (scoreJoueur > scoreDriss) scoreDiv.textContent += " ðŸŽ‰ Tu gagnes !";
        else if (scoreJoueur < scoreDriss) scoreDiv.textContent += " ðŸ˜ Driss gagne...";
        else scoreDiv.textContent += " ðŸ¤ Ã‰galitÃ© !";
      }
    }

    // Initialisation
    creerChamps();
    nouvelleLettre();
  </script>
</body>
</html>
