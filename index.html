<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Petit Bac avec Driss ğŸ¤–</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #74ebd5, #ACB6E5);
      height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #333;
    }

    h1 {
      margin-bottom: 10px;
    }

    .game-container {
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 400px;
      text-align: center;
      transition: all 0.3s ease-in-out;
    }

    .letter {
      font-size: 48px;
      font-weight: bold;
      margin: 10px 0 20px;
    }

    .category {
      margin-bottom: 10px;
    }

    input {
      width: 90%;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      outline: none;
    }

    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #45a049;
    }

    select {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      margin-bottom: 10px;
      outline: none;
    }

    .score {
      font-size: 20px;
      font-weight: bold;
      margin-top: 15px;
    }

    .driss-answer {
      font-size: 14px;
      color: #555;
      margin-top: 5px;
      font-style: italic;
    }

    .driss-mood {
      font-size: 16px;
      margin-bottom: 10px;
      font-weight: bold;
    }

    /* ğŸ­ Modal des rÃ¨gles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.6);
      animation: fadeIn 0.3s;
    }

    .modal-content {
      background-color: #fff;
      margin: 5% auto;
      padding: 20px;
      border-radius: 20px;
      width: 80%;
      max-width: 700px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      animation: popIn 0.4s;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover {
      color: #333;
    }

    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }

    @keyframes popIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .regles {
      text-align: left;
      line-height: 1.6;
      color: #222;
    }

    .regles h2 {
      text-align: center;
      color: #2c3e50;
    }
  </style>
</head>
<body>
  <h1>ğŸ“ Petit Bac avec Driss ğŸ¤–</h1>

  <div class="game-container">
    <label for="mode">Choisis ton mode de jeu :</label><br>
    <select id="mode" onchange="changerMode()">
      <option value="solo">ğŸ® Mode Solo</option>
      <option value="driss">ğŸ¤– Contre Driss</option>
    </select>

    <div class="driss-mood" id="driss-mood"></div>
    <div class="letter" id="letter">?</div>
    <div id="categories"></div>

    <button onclick="verifier()">VÃ©rifier</button>
    <button onclick="nouvelleLettre()">Nouvelle Lettre</button>
    <button onclick="ouvrirRegles()">ğŸ“œ RÃ¨gles (version SaÃ¯dou)</button>

    <div class="score" id="score"></div>
  </div>

  <!-- ğŸ­ FenÃªtre modale des rÃ¨gles -->
  <div id="modalRegles" class="modal">
    <div class="modal-content">
      <span class="close" onclick="fermerRegles()">&times;</span>
      <div class="regles">
        <h2>ğŸ“œ Les RÃ¨gles du Petit Bac avec Driss (version SaÃ¯dou Abatcha)</h2>
        <p>Mesdames, Messieurs, chers enfants du village numÃ©rique, approchez, approchez ! ğŸ˜„  
        Aujourdâ€™hui, je vous explique le grand jeu du <b>Petit Bac</b> â€” lÃ  oÃ¹ les lettres deviennent folles et les cerveaux chauffent ! ğŸ”¥</p>

        <h3>ğŸ§  Le but du jeu</h3>
        <p>Simple : trouve des mots qui commencent par la <b>lettre imposÃ©e</b> !  
        Si la lettre câ€™est <b>B</b>, et tu viens avec â€œorangeâ€... mon ami, tu perds gratuitement ğŸ˜…</p>

        <h3>ğŸ® Les modes</h3>
        <ul>
          <li><b>Mode Solo :</b> Tu joues seul, toi et ton cerveau.</li>
          <li><b>Mode Driss :</b> Tu affrontes Driss,  parfois intello ğŸ¤“, parfois maladroit ğŸ˜….</li>
        </ul>

        <h3>ğŸ”  Le dÃ©roulement</h3>
        <ol>
          <li>Une lettre tombe du ciel ğŸŒ©ï¸</li>
          <li>Tu remplis les 5 catÃ©gories : PrÃ©nom, Animal, Pays, Objet, Fruit/LÃ©gume ğŸ</li>
          <li>Tu cliques sur <b>VÃ©rifier</b> et tu dÃ©couvres le vainqueur.</li>
        </ol>

        <h3>âš–ï¸ Les points</h3>
        <p>10 points par bonne rÃ©ponse.  
        Mauvaise lettre ou oubli ? ZÃ©ro, nada, wallou ğŸ˜…  
        Ã€ la fin :
        <ul>
          <li>Si tu gagnes â†’ tu es le champion du village ğŸ†</li>
          <li>Si Driss gagne â†’ il faut accepter, il est nÃ© dans la technologie ğŸ¤–</li>
          <li>Ã‰galitÃ© â†’ buvez un jus ensemble ğŸ¹</li>
        </ul>
        </p>

        <h3>ğŸ¤– Les humeurs de Driss</h3>
        <p>Chaque manche, Driss tire son humeur :
        <ul>
          <li>ğŸ¤“ <b>Intello</b> â€“ il trouve presque tout !</li>
          <li>ğŸ˜… <b>Maladroit</b> â€“ il confond â€œbananeâ€ avec â€œBelgiqueâ€ ğŸ˜†</li>
        </ul>
        On ne sait jamais Ã  quoi sâ€™attendre, et câ€™est Ã§a la magie du jeu !</p>

        <h3>ğŸ¯ En rÃ©sumÃ©</h3>
        <p>Dans ce jeu, si tu rÃ©flÃ©chis trop, tu perds du temps.  
        Si tu ne rÃ©flÃ©chis pas assez, tu perds des points.  
        Mais si tu ris pendant la partie... alors tu as dÃ©jÃ  gagnÃ© ! ğŸ˜„</p>
      </div>
    </div>
  </div>

  <script>
    const categories = ["PrÃ©nom", "Animal", "Pays", "Objet", "Fruit/LÃ©gume"];
    const categoriesDiv = document.getElementById("categories");
    const letterDiv = document.getElementById("letter");
    const scoreDiv = document.getElementById("score");
    const modeSelect = document.getElementById("mode");
    const drissMoodDiv = document.getElementById("driss-mood");

    // Dictionnaire de Driss
    const drissDictionnaire = {
      "PrÃ©nom": ["Ahmed", "Luc", "Thomas", "Fatima", "Nina", "Sophie", "Rayan", "Zara"],
      "Animal": ["Lion", "Tigre", "Lapin", "Chien", "ZÃ¨bre", "Ours", "Chat", "Aigle"],
      "Pays": ["France", "Maroc", "Canada", "Italie", "BrÃ©sil", "NorvÃ¨ge", "Chine", "Zambie"],
      "Objet": ["Lampe", "Chaise", "Stylo", "Livre", "TÃ©lÃ©phone", "Vase", "Crayon", "Bouteille"],
      "Fruit/LÃ©gume": ["Pomme", "Banane", "Carotte", "Kiwi", "Mangue", "Raisin", "Orange", "Tomate"]
    };

    let drissMode = "intello";

    function definirComportementDriss() {
      const tirage = Math.random();
      if (tirage < 0.5) {
        drissMode = "maladroit";
        drissMoodDiv.textContent = "ğŸ˜… Driss a mal dormi... Il risque de se tromper !";
        drissMoodDiv.style.color = "#c0392b";
      } else {
        drissMode = "intello";
        drissMoodDiv.textContent = "ğŸ¤“ Driss est concentrÃ© et en pleine forme !";
        drissMoodDiv.style.color = "#27ae60";
      }
    }

    function creerChamps() {
      categoriesDiv.innerHTML = "";
      categories.forEach(cat => {
        const div = document.createElement("div");
        div.className = "category";
        div.innerHTML = `
          <label>${cat} :</label><br>
          <input type="text" id="${cat}" placeholder="Ta rÃ©ponse...">
          <div class="driss-answer" id="driss-${cat}" style="display:none"></div>
        `;
        categoriesDiv.appendChild(div);
      });
    }

    function nouvelleLettre() {
      const lettres = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      const lettre = lettres[Math.floor(Math.random() * lettres.length)];
      letterDiv.textContent = lettre;
      scoreDiv.textContent = "";
      document.querySelectorAll("input").forEach(input => input.value = "");
      document.querySelectorAll(".driss-answer").forEach(div => div.style.display = "none");
      definirComportementDriss();
    }

    function changerMode() {
      scoreDiv.textContent = "";
      nouvelleLettre();
    }

    function drissRepond(lettre) {
      const reponses = {};
      categories.forEach(cat => {
        const mots = drissDictionnaire[cat];
        const tauxErreur = (drissMode === "intello") ? 0.1 : 0.5;
        const faitErreur = Math.random() < tauxErreur;

        if (faitErreur) {
          reponses[cat] = mots[Math.floor(Math.random() * mots.length)];
        } else {
          const choix = mots.find(m => m[0].toUpperCase() === lettre);
          reponses[cat] = choix ? choix : mots[Math.floor(Math.random() * mots.length)];
        }
      });
      return reponses;
    }

    function verifier() {
      const lettre = letterDiv.textContent;
      if (lettre === "?") {
        alert("Clique sur 'Nouvelle Lettre' pour commencer !");
        return;
      }

      let scoreJoueur = 0;
      let scoreDriss = 0;
      const mode = modeSelect.value;
      let drissAnswers = {};

      if (mode === "driss") {
        drissAnswers = drissRepond(lettre);
      }

      categories.forEach(cat => {
        const reponse = document.getElementById(cat).value.trim();
        if (reponse && reponse[0].toUpperCase() === lettre) scoreJoueur += 10;

        if (mode === "driss") {
          const divDriss = document.getElementById("driss-" + cat);
          divDriss.style.display = "block";
          divDriss.textContent = `Driss : ${drissAnswers[cat]}`;
          if (drissAnswers[cat][0].toUpperCase() === lettre) scoreDriss += 10;
        }
      });

      if (mode === "solo") {
        scoreDiv.textContent = `Ton score : ${scoreJoueur} points`;
      } else {
        scoreDiv.textContent = `Toi : ${scoreJoueur} pts | Driss ğŸ¤– : ${scoreDriss} pts`;
        if (scoreJoueur > scoreDriss) scoreDiv.textContent += " ğŸ‰ Tu gagnes !";
        else if (scoreJoueur < scoreDriss) scoreDiv.textContent += " ğŸ˜ Driss gagne...";
        else scoreDiv.textContent += " ğŸ¤ Ã‰galitÃ© !";
      }
    }

    // Modal rÃ¨gles
    function ouvrirRegles() {
      document.getElementById("modalRegles").style.display = "block";
    }

    function fermerRegles() {
      document.getElementById("modalRegles").style.display = "none";
    }

    window.onclick = function(event) {
      const modal = document.getElementById("modalRegles");
      if (event.target === modal) {
        modal.style.display = "none";
      }
    }

    // Initialisation
    creerChamps();
    nouvelleLettre();
  </script>
</body>
</html>
